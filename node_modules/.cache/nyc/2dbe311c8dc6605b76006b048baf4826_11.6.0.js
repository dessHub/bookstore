var cov_2oirtd841a=function(){var path='/home/desmond/myprojects/node/bookstor_api/server.js',hash='849a4e8021e220d9aed8affc40be3b99fe4f381b',Function=function(){}.constructor,global=new Function('return this')(),gcv='__coverage__',coverageData={path:'/home/desmond/myprojects/node/bookstor_api/server.js',statementMap:{'0':{start:{line:1,column:14},end:{line:1,column:32}},'1':{start:{line:2,column:10},end:{line:2,column:19}},'2':{start:{line:3,column:15},end:{line:3,column:34}},'3':{start:{line:4,column:13},end:{line:4,column:30}},'4':{start:{line:5,column:17},end:{line:5,column:39}},'5':{start:{line:6,column:11},end:{line:6,column:15}},'6':{start:{line:7,column:11},end:{line:7,column:39}},'7':{start:{line:8,column:13},end:{line:8,column:30}},'8':{start:{line:10,column:14},end:{line:13,column:15}},'9':{start:{line:16,column:0},end:{line:16,column:41}},'10':{start:{line:17,column:9},end:{line:17,column:28}},'11':{start:{line:18,column:0},end:{line:18,column:65}},'12':{start:{line:21,column:0},end:{line:24,column:1}},'13':{start:{line:23,column:4},end:{line:23,column:32}},'14':{start:{line:27,column:0},end:{line:27,column:27}},'15':{start:{line:28,column:0},end:{line:28,column:49}},'16':{start:{line:29,column:0},end:{line:29,column:27}},'17':{start:{line:30,column:0},end:{line:30,column:54}},'18':{start:{line:32,column:0},end:{line:32,column:77}},'19':{start:{line:32,column:27},end:{line:32,column:75}},'20':{start:{line:34,column:0},end:{line:36,column:25}},'21':{start:{line:37,column:0},end:{line:40,column:26}},'22':{start:{line:42,column:0},end:{line:42,column:17}},'23':{start:{line:43,column:0},end:{line:43,column:41}},'24':{start:{line:45,column:0},end:{line:45,column:21}}},fnMap:{'0':{name:'(anonymous_0)',decl:{start:{line:32,column:13},end:{line:32,column:14}},loc:{start:{line:32,column:27},end:{line:32,column:75}},line:32}},branchMap:{'0':{loc:{start:{line:21,column:0},end:{line:24,column:1}},type:'if',locations:[{start:{line:21,column:0},end:{line:24,column:1}},{start:{line:21,column:0},end:{line:24,column:1}}],line:21}},s:{'0':0,'1':0,'2':0,'3':0,'4':0,'5':0,'6':0,'7':0,'8':0,'9':0,'10':0,'11':0,'12':0,'13':0,'14':0,'15':0,'16':0,'17':0,'18':0,'19':0,'20':0,'21':0,'22':0,'23':0,'24':0},f:{'0':0},b:{'0':[0,0]},_coverageSchema:'332fd63041d2c1bcb487cc26dd0d5f7d97098a6c'},coverage=global[gcv]||(global[gcv]={});if(coverage[path]&&coverage[path].hash===hash){return coverage[path];}coverageData.hash=hash;return coverage[path]=coverageData;}();let express=(cov_2oirtd841a.s[0]++,require('express'));let app=(cov_2oirtd841a.s[1]++,express());let mongoose=(cov_2oirtd841a.s[2]++,require('mongoose'));let morgan=(cov_2oirtd841a.s[3]++,require('morgan'));let bodyParser=(cov_2oirtd841a.s[4]++,require('body-parser'));let port=(cov_2oirtd841a.s[5]++,8080);let book=(cov_2oirtd841a.s[6]++,require('./app/routes/book'));let config=(cov_2oirtd841a.s[7]++,require('config'));//we load the db location from the JSON files
//db options
let options=(cov_2oirtd841a.s[8]++,{server:{socketOptions:{keepAlive:1,connectTimeoutMS:30000}},replset:{socketOptions:{keepAlive:1,connectTimeoutMS:30000}}});//db connection      
cov_2oirtd841a.s[9]++;mongoose.connect(config.DBHost,options);let db=(cov_2oirtd841a.s[10]++,mongoose.connection);cov_2oirtd841a.s[11]++;db.on('error',console.error.bind(console,'connection error:'));//don't show the log when it is test
cov_2oirtd841a.s[12]++;if(config.util.getEnv('NODE_ENV')!=='test'){cov_2oirtd841a.b[0][0]++;cov_2oirtd841a.s[13]++;//use morgan to log at command line
app.use(morgan('combined'));//'combined' outputs the Apache style LOGs
}else{cov_2oirtd841a.b[0][1]++;}//parse application/json and look for raw text                                        
cov_2oirtd841a.s[14]++;app.use(bodyParser.json());cov_2oirtd841a.s[15]++;app.use(bodyParser.urlencoded({extended:true}));cov_2oirtd841a.s[16]++;app.use(bodyParser.text());cov_2oirtd841a.s[17]++;app.use(bodyParser.json({type:'application/json'}));cov_2oirtd841a.s[18]++;app.get("/",(req,res)=>{cov_2oirtd841a.f[0]++;cov_2oirtd841a.s[19]++;return res.json({message:"Welcome to our Bookstore!"});});cov_2oirtd841a.s[20]++;app.route("/book").get(book.getBooks).post(book.postBook);cov_2oirtd841a.s[21]++;app.route("/book/:id").get(book.getBook).delete(book.deleteBook).put(book.updateBook);cov_2oirtd841a.s[22]++;app.listen(port);cov_2oirtd841a.s[23]++;console.log("Listening on port "+port);cov_2oirtd841a.s[24]++;module.exports=app;// for testing