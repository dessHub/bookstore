var cov_c3zxtdx04=function(){var path='/home/desmond/myprojects/node/bookstor_api/app/routes/book.js',hash='6ca2ef6cc18dfe6a37d99b0c59bbc682aa3ed296',Function=function(){}.constructor,global=new Function('return this')(),gcv='__coverage__',coverageData={path:'/home/desmond/myprojects/node/bookstor_api/app/routes/book.js',statementMap:{'0':{start:{line:1,column:15},end:{line:1,column:34}},'1':{start:{line:2,column:11},end:{line:2,column:36}},'2':{start:{line:9,column:16},end:{line:9,column:29}},'3':{start:{line:10,column:4},end:{line:14,column:7}},'4':{start:{line:11,column:8},end:{line:11,column:30}},'5':{start:{line:11,column:16},end:{line:11,column:30}},'6':{start:{line:13,column:8},end:{line:13,column:24}},'7':{start:{line:22,column:18},end:{line:22,column:36}},'8':{start:{line:24,column:4},end:{line:31,column:7}},'9':{start:{line:25,column:8},end:{line:30,column:9}},'10':{start:{line:26,column:12},end:{line:26,column:26}},'11':{start:{line:29,column:12},end:{line:29,column:67}},'12':{start:{line:38,column:4},end:{line:42,column:7}},'13':{start:{line:39,column:8},end:{line:39,column:30}},'14':{start:{line:39,column:16},end:{line:39,column:30}},'15':{start:{line:41,column:8},end:{line:41,column:23}},'16':{start:{line:49,column:4},end:{line:51,column:7}},'17':{start:{line:50,column:8},end:{line:50,column:68}},'18':{start:{line:58,column:4},end:{line:64,column:7}},'19':{start:{line:59,column:8},end:{line:59,column:30}},'20':{start:{line:59,column:16},end:{line:59,column:30}},'21':{start:{line:60,column:8},end:{line:63,column:11}},'22':{start:{line:61,column:12},end:{line:61,column:34}},'23':{start:{line:61,column:20},end:{line:61,column:34}},'24':{start:{line:62,column:12},end:{line:62,column:57}},'25':{start:{line:68,column:0},end:{line:68,column:73}}},fnMap:{'0':{name:'getBooks',decl:{start:{line:7,column:9},end:{line:7,column:17}},loc:{start:{line:7,column:28},end:{line:15,column:1}},line:7},'1':{name:'(anonymous_1)',decl:{start:{line:10,column:15},end:{line:10,column:16}},loc:{start:{line:10,column:31},end:{line:14,column:5}},line:10},'2':{name:'postBook',decl:{start:{line:20,column:9},end:{line:20,column:17}},loc:{start:{line:20,column:28},end:{line:32,column:1}},line:20},'3':{name:'(anonymous_3)',decl:{start:{line:24,column:17},end:{line:24,column:18}},loc:{start:{line:24,column:31},end:{line:31,column:5}},line:24},'4':{name:'getBook',decl:{start:{line:37,column:9},end:{line:37,column:16}},loc:{start:{line:37,column:27},end:{line:43,column:1}},line:37},'5':{name:'(anonymous_5)',decl:{start:{line:38,column:33},end:{line:38,column:34}},loc:{start:{line:38,column:48},end:{line:42,column:5}},line:38},'6':{name:'deleteBook',decl:{start:{line:48,column:9},end:{line:48,column:19}},loc:{start:{line:48,column:30},end:{line:52,column:1}},line:48},'7':{name:'(anonymous_7)',decl:{start:{line:49,column:39},end:{line:49,column:40}},loc:{start:{line:49,column:56},end:{line:51,column:5}},line:49},'8':{name:'updateBook',decl:{start:{line:57,column:9},end:{line:57,column:19}},loc:{start:{line:57,column:30},end:{line:65,column:1}},line:57},'9':{name:'(anonymous_9)',decl:{start:{line:58,column:40},end:{line:58,column:41}},loc:{start:{line:58,column:55},end:{line:64,column:5}},line:58},'10':{name:'(anonymous_10)',decl:{start:{line:60,column:43},end:{line:60,column:44}},loc:{start:{line:60,column:58},end:{line:63,column:9}},line:60}},branchMap:{'0':{loc:{start:{line:11,column:8},end:{line:11,column:30}},type:'if',locations:[{start:{line:11,column:8},end:{line:11,column:30}},{start:{line:11,column:8},end:{line:11,column:30}}],line:11},'1':{loc:{start:{line:25,column:8},end:{line:30,column:9}},type:'if',locations:[{start:{line:25,column:8},end:{line:30,column:9}},{start:{line:25,column:8},end:{line:30,column:9}}],line:25},'2':{loc:{start:{line:39,column:8},end:{line:39,column:30}},type:'if',locations:[{start:{line:39,column:8},end:{line:39,column:30}},{start:{line:39,column:8},end:{line:39,column:30}}],line:39},'3':{loc:{start:{line:59,column:8},end:{line:59,column:30}},type:'if',locations:[{start:{line:59,column:8},end:{line:59,column:30}},{start:{line:59,column:8},end:{line:59,column:30}}],line:59},'4':{loc:{start:{line:61,column:12},end:{line:61,column:34}},type:'if',locations:[{start:{line:61,column:12},end:{line:61,column:34}},{start:{line:61,column:12},end:{line:61,column:34}}],line:61}},s:{'0':0,'1':0,'2':0,'3':0,'4':0,'5':0,'6':0,'7':0,'8':0,'9':0,'10':0,'11':0,'12':0,'13':0,'14':0,'15':0,'16':0,'17':0,'18':0,'19':0,'20':0,'21':0,'22':0,'23':0,'24':0,'25':0},f:{'0':0,'1':0,'2':0,'3':0,'4':0,'5':0,'6':0,'7':0,'8':0,'9':0,'10':0},b:{'0':[0,0],'1':[0,0],'2':[0,0],'3':[0,0],'4':[0,0]},_coverageSchema:'332fd63041d2c1bcb487cc26dd0d5f7d97098a6c'},coverage=global[gcv]||(global[gcv]={});if(coverage[path]&&coverage[path].hash===hash){return coverage[path];}coverageData.hash=hash;return coverage[path]=coverageData;}();let mongoose=(cov_c3zxtdx04.s[0]++,require('mongoose'));let Book=(cov_c3zxtdx04.s[1]++,require('../models/book'));/*
 * GET /book route to retrieve all the books.
 */function getBooks(req,res){cov_c3zxtdx04.f[0]++;//Query the DB and if no errors, send all the books
let query=(cov_c3zxtdx04.s[2]++,Book.find({}));cov_c3zxtdx04.s[3]++;query.exec((err,books)=>{cov_c3zxtdx04.f[1]++;cov_c3zxtdx04.s[4]++;if(err){cov_c3zxtdx04.b[0][0]++;cov_c3zxtdx04.s[5]++;res.send(err);}else{cov_c3zxtdx04.b[0][1]++;}//If no errors, send them back to the client
cov_c3zxtdx04.s[6]++;res.json(books);});}/*
 * POST /book to save a new book.
 */function postBook(req,res){cov_c3zxtdx04.f[2]++;//Creates a new book
var newBook=(cov_c3zxtdx04.s[7]++,new Book(req.body));//Save it into the DB.
cov_c3zxtdx04.s[8]++;newBook.save((err,book)=>{cov_c3zxtdx04.f[3]++;cov_c3zxtdx04.s[9]++;if(err){cov_c3zxtdx04.b[1][0]++;cov_c3zxtdx04.s[10]++;res.send(err);}else{cov_c3zxtdx04.b[1][1]++;cov_c3zxtdx04.s[11]++;//If no errors, send it back to the client
res.json({message:"Book successfully added!",book});}});}/*
 * GET /book/:id route to retrieve a book given its id.
 */function getBook(req,res){cov_c3zxtdx04.f[4]++;cov_c3zxtdx04.s[12]++;Book.findById(req.params.id,(err,book)=>{cov_c3zxtdx04.f[5]++;cov_c3zxtdx04.s[13]++;if(err){cov_c3zxtdx04.b[2][0]++;cov_c3zxtdx04.s[14]++;res.send(err);}else{cov_c3zxtdx04.b[2][1]++;}//If no errors, send it back to the client
cov_c3zxtdx04.s[15]++;res.json(book);});}/*
 * DELETE /book/:id to delete a book given its id.
 */function deleteBook(req,res){cov_c3zxtdx04.f[6]++;cov_c3zxtdx04.s[16]++;Book.remove({_id:req.params.id},(err,result)=>{cov_c3zxtdx04.f[7]++;cov_c3zxtdx04.s[17]++;res.json({message:"Book successfully deleted!",result});});}/*
 * PUT /book/:id to updatea a book given its id
 */function updateBook(req,res){cov_c3zxtdx04.f[8]++;cov_c3zxtdx04.s[18]++;Book.findById({_id:req.params.id},(err,book)=>{cov_c3zxtdx04.f[9]++;cov_c3zxtdx04.s[19]++;if(err){cov_c3zxtdx04.b[3][0]++;cov_c3zxtdx04.s[20]++;res.send(err);}else{cov_c3zxtdx04.b[3][1]++;}cov_c3zxtdx04.s[21]++;Object.assign(book,req.body).save((err,book)=>{cov_c3zxtdx04.f[10]++;cov_c3zxtdx04.s[22]++;if(err){cov_c3zxtdx04.b[4][0]++;cov_c3zxtdx04.s[23]++;res.send(err);}else{cov_c3zxtdx04.b[4][1]++;}cov_c3zxtdx04.s[24]++;res.json({message:'Book updated!',book});});});}//export all the functions
cov_c3zxtdx04.s[25]++;module.exports={getBooks,postBook,getBook,deleteBook,updateBook};